<html>
	<!-- NIVEAU A BULLE -->
	
	<head>
		<link rel="stylesheet" href="css/niveau.css" />
		<script language="javascript" src="js/jquery.js"></script>
		<script language="javascript">
		
			$(document).ready(function() { //callback quand ma page est prete
			
			
				// $ == instance de mon objet jQuery
				
				/*
				$('#bulle').click(function() {
					//ce que je veux faire au clic
					$('#bulle').css('marginLeft'
									,(10+parseInt($('#bulle').css('marginLeft')))+'px');
				});
				*/
				/* utilisation de l'API HTML5 devicemotion */
				
				var deviceIsMoving=function(event) {
					
					var positionX=(90+event.beta)*300/180;
					$('#bulle').css('marginLeft',positionX+'px');
					$('#console').html("x : " + event.beta + "\n y : " + event.gamma);
				};
				
				/* mise en place de "l'écouteur" sur l'evenement de mouvement*/
				if(window.DeviceOrientationEvent) {
				  window.addEventListener("deviceorientation", deviceIsMoving, false);
				} else {
				  // Le navigateur ne supporte pas l'événement deviceorientation
				  alert('API device motion non supportée');
				}
			
			});
		
			
			//document.getElementById('bulle').style.marginLeft='50px';
		</script>
	</head>
	
	<body>
		
		<div id="wrapper">
			<div id="niveau">
				<div id="bulle"></div>
			</div>
		</div>
		<div id="console"></div>
	</body>
</html>